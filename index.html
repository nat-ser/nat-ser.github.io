
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>instance of Nataliya</title>
  <meta name="author" content="Nataliya Seryakova">

  
  <meta name="description" content="Nataliya Seryakova's technical blog about her coding adventures.">
  
  <meta name="keywords" content="">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://nat-ser.github.io">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="instance of Nataliya" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href='https://fonts.googleapis.com/css?family=Noto+Serif:400,700' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-74685401-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">instance of Nataliya</a></h1>
  
    <h2>I write stuff on internetz.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  
  
</ul>

<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/02/21/parser-with-method-chaining/">Parser With Method Chaining</a></h1>
    
    
      <p class="meta">
        








  



<time datetime="2016-02-21T00:00:00-05:00" pubdate data-updated="true">Feb 21st, 2016</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h4>Chaining as we know it </h4>


<p>When you hear chaining methods, you think of something like this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='Ruby'><span class='line'><span class="s2">&quot;steak&quot;</span><span class="o">.</span><span class="n">upcase</span><span class="o">.</span><span class="n">reverse</span>
</span></code></pre></td></tr></table></div></figure>


<p>However, what I took for granted was that &lsquo;upcase&rsquo; and &lsquo;reverse&rsquo; are built-in methods of the String Class, which means that both of those methods are available to any string because it is an instance of the String Class.</p>

<h4> Custom chaining</h4>


<p>What happens when you create your own class and want to chain methods together in this manner? For example, you want to build a data parser that allows you to do this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='Ruby'><span class='line'><span class="n">food_hash</span> <span class="o">=</span> <span class="no">Finder</span><span class="o">.</span><span class="n">new</span>
</span><span class='line'><span class="n">food_hash</span><span class="o">.</span><span class="n">product</span><span class="o">.</span><span class="n">location</span>
</span></code></pre></td></tr></table></div></figure>


<p>instead of:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='Ruby'><span class='line'><span class="n">food_hash</span> <span class="o">=</span> <span class="no">Finder</span><span class="o">.</span><span class="n">new</span>
</span><span class='line'><span class="n">food_hash</span><span class="o">[</span><span class="ss">:product</span><span class="o">][</span><span class="ss">:location</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>This is more complicated than it looks. Let&rsquo;s dive right into an example that shows how to do this.</p>

<h4>Step by Step Example of Method Chaining </h4>


<h4>Problem:</h4>


<p>We have this nested hash called food_info.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='Ruby'><span class='line'><span class="n">food_info</span> <span class="o">=</span> <span class="p">{</span><span class="ss">fridges</span><span class="p">:</span>
</span><span class='line'>              <span class="p">{</span><span class="ss">person</span><span class="p">:</span>
</span><span class='line'>                <span class="p">{</span><span class="ss">grandma</span><span class="p">:</span><span class="o">[</span><span class="s2">&quot;cauliflower&quot;</span><span class="p">,</span> <span class="s2">&quot;sour cream&quot;</span><span class="p">,</span> <span class="s2">&quot;couch candy&quot;</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'>                <span class="ss">flatiron_school</span><span class="p">:</span> <span class="o">[</span><span class="s2">&quot;donuts&quot;</span><span class="p">,</span> <span class="s2">&quot;coffee&quot;</span><span class="p">,</span> <span class="s2">&quot;siracha&quot;</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'>                <span class="ss">steven</span><span class="p">:</span><span class="o">[</span><span class="s2">&quot;beef&quot;</span><span class="p">,</span> <span class="s2">&quot;ham&quot;</span><span class="o">]</span><span class="p">}</span>
</span><span class='line'>              <span class="p">},</span>
</span><span class='line'>            <span class="ss">restaurants</span><span class="p">:</span> <span class="s2">&quot;McDonalds&quot;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Your parsing code should return an object that allows you to access attributes using method calls:</p>

<p>puts object.fridges.person.grandma</p>

<h4>outputs [&ldquo;cauliflower&rdquo;, &ldquo;sour cream&rdquo;, &ldquo;couch candy&rdquo;]</h4>

<p>First example, is simply searching by key. The second example shows what would happen if we tried to do the same action in a different way.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='Ruby'><span class='line'><span class="c1">#this is the normal way to access value</span>
</span><span class='line'> <span class="nb">puts</span> <span class="n">food_info</span><span class="o">[</span><span class="ss">:fridges</span><span class="o">][</span><span class="ss">:person</span><span class="o">][</span><span class="ss">:grandma</span><span class="o">]</span> <span class="c1">##outputs [&quot;cauliflower&quot;, &quot;sour cream&quot;, &quot;couch candy&quot;]</span>
</span><span class='line'><span class="c1">#out ultimate objective is for this to work but as of now, it breaks</span>
</span><span class='line'> <span class="nb">puts</span> <span class="n">food_info</span><span class="o">.</span><span class="n">fridges</span><span class="o">.</span><span class="n">person</span><span class="o">.</span><span class="n">grandma</span> <span class="c1">##outputs NoMethoderror</span>
</span></code></pre></td></tr></table></div></figure>


<p>When we run this code it outputs the following:
<img src="/images/oh_no.png"></p>

<p>As you can see, the first method works in the way we would expect it to. The second blows up because we cannot call the <strong>fridges</strong> method because it does not exist.
Let&rsquo;s say <strong>fridges</strong> method did exist as part of the class and also <strong>person</strong> and <strong>grandma</strong> methods. If we called
<strong>puts food_info.fridges.person.grandma</strong>
it would also blow up at <strong>.person</strong> and complain that the method does not exist. This is because the <strong>food_info.fridges</strong> is no longer an instance of the same class but rather an instance of the hash class.</p>

<p>Below are the two ways to fix this.</p>

<h4>Solution 1</h4>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
</pre></td><td class='code'><pre><code class='Ruby'><span class='line'><span class="k">class</span> <span class="nc">Finder</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">food_info</span><span class="p">)</span>
</span><span class='line'>    <span class="vi">@food_info</span> <span class="o">=</span> <span class="n">food_info</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">fridges</span>
</span><span class='line'>  <span class="c1">#after this runs, alters value of @food_info to @food_info[:fridges]</span>
</span><span class='line'>    <span class="no">Finder</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="vi">@food_info</span><span class="o">[</span><span class="ss">:fridges</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">person</span>
</span><span class='line'>  <span class="c1">#so here we don&#39;t have to call the whole chain @food_info[:fridges][:person]</span>
</span><span class='line'>    <span class="no">Finder</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="vi">@food_info</span><span class="o">[</span><span class="ss">:person</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">grandma</span>
</span><span class='line'>    <span class="vi">@food_info</span><span class="o">[</span><span class="ss">:grandma</span><span class="o">]</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">end</span>
</span><span class='line'><span class="n">hungerz</span> <span class="o">=</span> <span class="no">Finder</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">food_info</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="nb">puts</span> <span class="n">hungerz</span><span class="o">.</span><span class="n">fridges</span><span class="o">.</span><span class="n">person</span><span class="o">.</span><span class="n">grandma</span>
</span><span class='line'><span class="c1">####outputs [&quot;cauliflower&quot;, &quot;sour cream&quot;, &quot;couch candy&quot;]</span>
</span></code></pre></td></tr></table></div></figure>


<p>This solves the problem of method availability by creating a new instance of the class as a return value for each method. This allows us to then call the methods in one line. What this means is that when one instance method gets called, it return an actual instance of the class instead of a regular return value. That way another method of the same class can be called on the return value of its sibling method.</p>

<p>In the solution above, after the fridges method is first called, it returns an instance of the Finder class itself so that the person method is no longer getting called on a Hash value. The grandma method does not return an instance of the class because it is last in the chain.</p>

<h4>Solution 2</h4>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class='Ruby'><span class='line'><span class="k">class</span> <span class="nc">Finder</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">food_info</span><span class="p">)</span>
</span><span class='line'>    <span class="vi">@food_info</span> <span class="o">=</span> <span class="n">food_info</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">fridges</span>
</span><span class='line'>    <span class="vi">@fridges</span> <span class="o">=</span> <span class="vi">@food_info</span><span class="o">[</span><span class="ss">:fridges</span><span class="o">]</span>
</span><span class='line'>    <span class="nb">self</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">person</span>
</span><span class='line'>    <span class="vi">@person</span> <span class="o">=</span> <span class="vi">@fridges</span><span class="o">[</span><span class="ss">:person</span><span class="o">]</span>
</span><span class='line'>    <span class="nb">self</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">grandma</span>
</span><span class='line'>    <span class="vi">@person</span><span class="o">[</span><span class="ss">:grandma</span><span class="o">]</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="n">hungerz</span> <span class="o">=</span> <span class="no">Finder</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">food_info</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="nb">puts</span> <span class="n">hungerz</span><span class="o">.</span><span class="n">fridges</span><span class="o">.</span><span class="n">person</span><span class="o">.</span><span class="n">grandma</span>
</span><span class='line'>
</span><span class='line'><span class="c1">####outputs [&quot;cauliflower&quot;, &quot;sour cream&quot;, &quot;couch candy&quot;]</span>
</span></code></pre></td></tr></table></div></figure>


<p>This is another solution using self to do the same thing as above.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/01/18/wrapper-objects-and-primitives-behind-the-scenes/">Wrapper Objects and Primitives Behind the Scenes.</a></h1>
    
    
      <p class="meta">
        








  



<time datetime="2016-01-18T14:53:41-05:00" pubdate data-updated="true">Jan 18th, 2016</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In order to get deep with wrapper objects and how primitives really work, we will quickly go over the basics of objects and primitives, compare them, and then get to the good stuff.</p>

<h4> What are the differences between Objects and Primitives?</h4>


<p><img src="http://i.imgur.com/qQ9ifnb.gif">
<br>
<strong>Primitive</strong> -&ldquo;Type provided by the system. The primitive types are treated by JavaScript as value types and when you pass them around they go as values.&rdquo; (Wikibooks?) Primitive types are: Number, Boolean, String, Symbol, undefined, and null.</p>

<p><strong>Object</strong> - &ldquo;Container of properties, where a property has a name and a value&rdquo; (Douglas Crockford) Basically, everything else that is not a Primitive is an object.</p>

<h4> Main Differences between Primitives and Objects </h4>


<p> 1) <strong>Comparison</strong> - In broad terms, Primitives are defined by their value while Objects are defined by their reference. In other words, every time you use a Primitive data type, like a number, it is equal to any other variable with the same value. However, objects all have a unique identity only equal to itself even if their values are equal. Let's look at an example of this:   </p>


<pre><code>  EACH OBJECT HAS UNIQUE IDENTITY                                                      PRIMITIVE DOES NOT
</code></pre>

<p><img src="/images/object_comparison.png">
<img src="/images/primitive_comparison.png"></p>

<p>On the left, we create two different objects both equal to an empty array. What makes it an object is the fact that the array data type belongs to object. The comparison returns false because each array is unique even though their value might be the same. This is not the case for  primitives on the right. Primitives are defined by their value and as long as two values are the same the variable comparison will be true. </p>




<p> 2) <strong>Mutability</strong> - You can assign properties or methods to Objects but you cannot do the same with Primitives. Properties or methods can be defined in the object constructor or directly added to the object. Here is what I mean by defining and adding properties or methods to an object: </p>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='JavaScript'><span class='line'>  <span class="kd">var</span> <span class="nx">Food</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">){</span>
</span><span class='line'>    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>                <span class="c1">//property</span>
</span><span class='line'>    <span class="k">this</span><span class="p">.</span><span class="nx">eat</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>         <span class="c1">//method</span>
</span><span class='line'>      <span class="k">return</span> <span class="s2">&quot;Yum!&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="o">&gt;</span><span class="nx">pizza</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Food</span><span class="p">(</span><span class="s2">&quot;pizza&quot;</span><span class="p">)</span>
</span><span class='line'>  <span class="o">&gt;</span><span class="nx">pizza</span><span class="p">.</span><span class="nx">name</span>                     <span class="c1">//outputs =&gt; &quot;pizza&quot;</span>
</span><span class='line'>  <span class="o">&gt;</span><span class="nx">pizza</span><span class="p">.</span><span class="nx">eat</span>                      <span class="c1">//outputs =&gt;&quot;yum&quot;</span>
</span><span class='line'>  <span class="o">&gt;</span><span class="nx">pizza</span><span class="p">.</span><span class="nx">throw_away</span> <span class="o">=</span> <span class="s2">&quot;NOOO&quot;</span>    <span class="c1">//new property assigned outside the constructor</span>
</span><span class='line'>  <span class="o">&gt;</span><span class="nx">puzza</span><span class="p">.</span><span class="nx">throw_away</span>              <span class="c1">// outputs =&gt; &quot;NOOO&quot;</span>
</span></code></pre></td></tr></table></div></figure>




<p> You cannot do this with Primitives. Below is a side by side comparison of what happens when you try.</p>


<pre><code>OBJECT HAS MUTABILITY                                                           PRIMITIVE DOES NOT
</code></pre>

<p><img src="/images/object_mutability.png">
<img src="/images/primative_no_mutability.png"></p>

<p> As you can see, on the left we created a new String object and gave it a banana method. Since the property banana was assigned to the object, it still works when we call it. With primitive on the right that does not work. Even though the variable "another_string" is also just a string, when we try to assign the property banana to it, it returns undefined.</p>




<h4>Wrapper Objects</h4>


<p> Great, JavaScript is finally making some sense. Let's look at this next example. </p>


<pre><code>WAT
</code></pre>

<p><img src="/images/why.png"></p>

<p> BUT WHYYYYYYY</p>


<p> If primitives don't have properties, then how can you call a method of .length on the primitive above?</p>


<p> <img src="http://cdn1.theodysseyonline.com/files/2015/10/31/635818589835734249370285774_1dfc00bbdb005b909c17c2a19667e8a1.gif" title="img" ></br></p>

<p> <p>This is where <strong>Wrapper Objects</strong> come in. A primitive will be coerced into an object to access method called on primitive. The wrapper object is that temporary object that is used. When any method is called on a primitive, this is what happens:</p></br>
 JavaScript says..</br>
&ldquo;idk. Your string does not respond to the length method. I think what you meant to do is call .length on a string object&rdquo;</br>
&ldquo;&hellip;Since you are clearly clueless, I will help you out and create a new String for you and check if that has a .length method&rdquo;</br>
&ldquo;Since String has that method, I&rsquo;ll let you borrow my "new String&rdquo; object to mutate your Primitive" </br></p>

<p>So the following example shows exactly what happens when a Wrapper Object is called. The Primitive actually becomes an object for the duration of that call. I think this is pretty awesome. </p>


<pre><code>BEHIND THE SCENES WHEN YOU TRY TO CALL FUNCTION ON A PRIMITIVE
</code></pre>

<p><img src="/images/what_am_i.png"></p>

<p>What's happening above is a variation of the .length method. Except slightly different because we are defining our own Number method "whatAmI". By defining it, we make it available to the Number class. When the Wrapper Number Object is called on the 123 number Primitive, our method "whatAmI" is used and for the duration of its use, the number Primitive is actually an object (Number). </p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/12/15/prepare-for-the-worst/">Prepare for the Worst.</a></h1>
    
    
      <p class="meta">
        








  



<time datetime="2015-12-15T14:53:41-05:00" pubdate data-updated="true">Dec 15th, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="http://cdn2.crushable.com/wp-content/uploads/2014/12/groundhog-day.gif"></p>

<p>There are awful things that could happen to you in Javascript. It is simultaneously intriguing and
useful to worry about them. Spending hours on stupid, easily preventable bugs does not appeal to me. Here is a brief summary of things to watch out for:</p>




<h4> Don't define local variables like an asshole </h4>


<p> People are very fussy about JavaScript's global variables. Here's the reason. A global variable is one that is available from any function in the program as opposed to just within the block of the method. Global variables are the default in JavaScript. If you want a variable to have local scope, you need to specify the declaration with a var ___ keyword. This is an example of how to do this right:</p>


<pre><code>RIGHT WAY
</code></pre>

<p><img src="/images/right.png"></p>

<p>The 'meow' variable is defined within the IIFE (immediately invoked function expression). It outputs 'I am an awesome local variable' to the console. When you call it outside the scope of function, 'meow' returns undefined, as you would expect.</p>


<pre><code>WRONG WAY
</code></pre>

<p><img src="/images/wrong.png"></p>

<p> You were too lazy to type 'var' before 'meow'. The IIFE does what you tell it to..but when you call 'meow' outside the function, 'meow' is still remembered as "I am not a local variable because you suck at typing!". This happens because JavaScript interprets the sloppy local declaration as an "implied global" variable.</p>




<p>So why is this bad? It can result in collisions down the line. It's particularly annoying to find these type of bugs, especially if you don't realize that you forgot a "var" somewhere at some point. So stop it!</p>




<h4> How to call a method on a number </h4>


<p> For example if you want to use dot notation to call a function on a number this would blow up:</p>


<pre><code>WRONG WAY
</code></pre>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">9</span><span class="o">.</span><span class="n">toString</span><span class="p">();</span> <span class="sr">//</span><span class="no">SyntaxError</span>
</span></code></pre></td></tr></table></div></figure>


<p> JavaScript parser interprets dot notation as floating point literal.</p>


<pre><code>RIGHT WAY
</code></pre>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">9</span><span class="o">.</span><span class="n">.toString</span><span class="p">();</span> <span class="sr">//</span> <span class="n">has</span> <span class="mi">2</span> <span class="n">dots</span>
</span><span class='line'><span class="mi">9</span> <span class="o">.</span><span class="n">toString</span><span class="p">();</span> <span class="sr">//</span> <span class="n">space</span> <span class="n">to</span> <span class="n">left</span> <span class="n">of</span> <span class="n">block</span>
</span><span class='line'><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="o">.</span><span class="n">toString</span><span class="p">();</span> <span class="sr">//</span> <span class="mi">9</span> <span class="n">is</span> <span class="n">evaluated</span> <span class="n">first</span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<p> All output "9" and bypass the parser bug</p>




<h3> In progress... </h3>

</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
   
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:nat-ser.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/02/21/parser-with-method-chaining/">Parser With Method Chaining</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/01/18/wrapper-objects-and-primitives-behind-the-scenes/">Wrapper Objects and Primitives Behind the Scenes.</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/12/15/prepare-for-the-worst/">Prepare for the Worst.</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - Nataliya Seryakova -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>



<script>
  $(document).ready(function() {  
    var stickyNavTop = $('nav').offset().top;  
      
    var stickyNav = function(){  
      var scrollTop = $(window).scrollTop(); 
      var navHasClassSticky = $('nav').hasClass('sticky');

      if (scrollTop > stickyNavTop && navHasClassSticky) {   
        return true;
      } else if (scrollTop > stickyNavTop) {
        $('nav').hide();
        $('nav').addClass('sticky');
        $('nav').fadeIn('2000');
      } else {  
        $('nav').removeClass('sticky');   
      }  
    };  
      
    stickyNav();  
      
    $(window).scroll(function() {  
      stickyNav();  
    });  
  });  
</script>


</body>
</html>
